{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\Allmedia Creation\\\\Desktop\\\\FrontEnd\\\\application\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\Allmedia Creation\\\\Desktop\\\\FrontEnd\\\\application\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Allmedia Creation\\\\Desktop\\\\FrontEnd\\\\application\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Allmedia Creation\\\\Desktop\\\\FrontEnd\\\\application\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Allmedia Creation\\\\Desktop\\\\FrontEnd\\\\application\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Allmedia Creation\\\\Desktop\\\\FrontEnd\\\\application\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Allmedia Creation\\\\Desktop\\\\FrontEnd\\\\application\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport axios from 'axios';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this));\n\n    _this.updateData = function (event) {\n      _this.setState(_defineProperty({}, event.target.id, event.target.value));\n    };\n\n    _this.sendMessage = function () {\n      if (_this.state.message_index == -1) {\n        axios.post('http://localhost:4000/send_message', {\n          author: _this.state.author,\n          message: _this.state.message\n        }).then(function (response) {\n          axios.get('http://localhost:4000/messages').then(function (response) {\n            _this.setState({\n              mesajeleAuSosit: true,\n              messages: response.data\n            });\n          }).catch(function (eroare) {\n            return console.log(eroare);\n          });\n        }).catch(function (error) {\n          return console.log(error);\n        });\n      } else {\n        axios.post('http://localhost:4000/reply_message', {\n          author: _this.state.author,\n          message: _this.state.message,\n          message_index: _this.state.message_index\n        }).then(function (response) {\n          axios.get('http://localhost:4000/messages').then(function (response) {\n            _this.setState({\n              mesajeleAuSosit: true,\n              messages: response.data\n            });\n          }).catch(function (eroare) {\n            return console.log(eroare);\n          });\n        }).catch(function (error) {\n          return console.log(error);\n        });\n      }\n    };\n\n    _this.state = {\n      mesajeleAuSosit: false,\n      message_index: -1\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios.get('http://localhost:4000/messages').then(function (response) {\n        _this2.setState({\n          mesajeleAuSosit: true,\n          messages: response.data\n        });\n      }).catch(function (eroare) {\n        return console.log(eroare);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \"Lista cu mesaje\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, this.state.mesajeleAuSosit ? this.state.messages.map(function (x, index) {\n        return React.createElement(\"div\", {\n          className: \"message\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }, React.createElement(\"h6\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }, x.author), React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }, x.message), React.createElement(\"button\", {\n          onClick: function onClick() {\n            return _this3.setState({\n              message_index: index\n            });\n          },\n          className: \"reply_button\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }, \"Reply\"), x.responses ? React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, x.responses.map(function (y) {\n          return React.createElement(\"div\", {\n            className: \"response\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 84\n            },\n            __self: this\n          }, y.author, React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 86\n            },\n            __self: this\n          }, y.message));\n        })) : null);\n      }) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \"Se asteapta datele de la server\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, this.state.message_index != -1 ? React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, \"Ii raspunzi lui \", this.state.messages[this.state.message_index].author) : null, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        value: this.state.author,\n        onChange: this.updateData,\n        id: \"author\",\n        placeholder: \"Author, your name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        value: this.state.message,\n        onChange: this.updateData,\n        id: \"message\",\n        placeholder: \"message\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        onClick: this.sendMessage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"Send Message\")));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["C:\\Users\\Allmedia Creation\\Desktop\\FrontEnd\\application\\src\\App.js"],"names":["React","Component","axios","App","updateData","event","setState","target","id","value","sendMessage","state","message_index","post","author","message","then","response","get","mesajeleAuSosit","messages","data","catch","eroare","console","log","error","map","x","index","responses","y"],"mappings":"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","sourcesContent":["\nimport React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport axios from 'axios';\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      mesajeleAuSosit: false,\n      message_index: -1\n    }\n  }\n  componentDidMount() {\n    axios.get('http://localhost:4000/messages')\n      .then(response => {\n        this.setState({\n          mesajeleAuSosit: true,\n          messages: response.data\n        })\n      })\n      .catch(eroare => console.log(eroare))\n  }\n  updateData = (event) => {\n    this.setState({\n      [event.target.id]: event.target.value\n    })\n  }\n  sendMessage = () => {\n    if (this.state.message_index== -1) {\n      axios.post('http://localhost:4000/send_message', {\n        author: this.state.author,\n        message: this.state.message\n      })\n        .then(response => {\n          axios.get('http://localhost:4000/messages')\n            .then(response => {\n              this.setState({\n                mesajeleAuSosit: true,\n                messages: response.data\n              })\n            })\n            .catch(eroare => console.log(eroare))\n        })\n        .catch(error => console.log(error));\n    } else {\n      axios.post('http://localhost:4000/reply_message', {\n        author: this.state.author,\n        message: this.state.message,\n        message_index: this.state.message_index\n      })\n        .then(response => {\n          axios.get('http://localhost:4000/messages')\n            .then(response => {\n              this.setState({\n                mesajeleAuSosit: true,\n                messages: response.data\n              })\n            })\n            .catch(eroare => console.log(eroare))\n        })\n        .catch(error => console.log(error));\n    }\n  }\n  render() {\n    return (\n      <div>\n        <h4>Lista cu mesaje</h4>\n        <div>\n          {\n            this.state.mesajeleAuSosit ?\n              this.state.messages.map((x, index) => {\n                return (<div className=\"message\">\n                  <h6>{x.author}</h6>\n                  <span>{x.message}</span>\n                  <button onClick={() => this.setState({ message_index: index })} className=\"reply_button\">Reply</button>\n                  {\n                    x.responses ?\n                      (<div>\n                        {\n                          x.responses.map(y => {\n                            return (\n                              <div className=\"response\">\n                                {y.author}\n                                <span>{y.message}</span>\n                              </div>\n                            )\n                          })\n                        }\n                      </div>) :\n                      null\n                  }\n                </div>)\n              })\n              : (<div>Se asteapta datele de la server</div>)\n          }\n        </div>\n        <div>\n          {this.state.message_index != -1 ?\n            (<span>Ii raspunzi lui {this.state.messages[this.state.message_index].author}</span>) :\n            null}\n          <br />\n          <input\n            value={this.state.author}\n            onChange={this.updateData}\n            id=\"author\"\n            placeholder=\"Author, your name\" /><br />\n          <input\n            value={this.state.message}\n            onChange={this.updateData}\n            id=\"message\"\n            placeholder=\"message\" /><br />\n          <button onClick={this.sendMessage}>Send Message</button>\n        </div>\n      </div>\n    );\n  }\n}\nexport default App;"]},"metadata":{},"sourceType":"module"}